<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mythic Waters | Enhanced Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
</head>

<body>

    <header class="hero">
        <div class="weather-badge" id="weather-badge">
            <span class="weather-icon" id="weather-icon">‚òÄÔ∏è</span>
            <span id="weather-text">Clear Skies</span>
        </div>
        <div class="hero-content">
            <div>
                <p
                    style="text-transform:uppercase; letter-spacing:2px; font-size:0.8rem; margin:0; color:#c44569; font-weight:600;">
                    Enhanced Edition</p>
                <h1>Mythic Waters</h1>
                <p class="subtitle" style="color:#4a4e69; font-weight:500;">Skill-based fishing in legendary biomes.</p>
            </div>
            <div style="display:flex; gap:0.5rem;">
                <button class="btn-primary" onclick="GameAPI.shopOpen()">Shop</button>
                <button class="btn-primary" onclick="GameAPI.openAchievements()"
                    style="background:linear-gradient(135deg,#f59e0b,#d97706)">üèÜ <span
                        id="achievement-count">0/21</span></button>
                <button class="btn-secondary" onclick="GameAPI.manualSave()">Save</button>
                <button class="btn-secondary" onclick="GameAPI.resetData()">Reset</button>
            </div>
        </div>

        <div class="player-stats">
            <div class="stat">
                <p class="stat-label">Level <span id="level-display">1</span></p>
                <div class="progress-container">
                    <div class="progress">
                        <div class="progress-bar" id="xp-bar"></div>
                    </div>
                    <p class="progress-text"><span id="xp-current">0</span> / <span id="xp-next">1000</span> XP</p>
                </div>
            </div>
            <div class="stat">
                <p class="stat-label">Coins</p>
                <p class="stat-value warning" style="color:#facc15" id="coins-display">0</p>
            </div>
            <div class="stat">
                <p class="stat-label">Combo</p>
                <p class="stat-value" id="combo-display">0x</p>
            </div>
            <div class="stat">
                <p class="stat-label">Rod Capacity</p>
                <p class="stat-value" id="capacity-display">20 KG</p>
            </div>
        </div>
    </header>

    <main>
        <!-- Locations -->
        <section>
            <h2>Expeditions</h2>
            <div class="location-grid" id="location-grid">
                <!-- Injected via JS -->
            </div>
        </section>

        <!-- Main Gameplay -->
        <div class="fishing-zone">
            <!-- Action Panel -->
            <section class="action-area">
                <div class="status-text" id="status-message">Ready to cast...</div>

                <!-- Minigame UI -->
                <div class="minigame-container" id="minigame-ui">
                    <div class="target-zone" id="mg-target"></div>
                    <div class="indicator" id="mg-indicator"></div>
                </div>

                <!-- Auto-Fish Cooldown Progress Bar -->
                <div class="auto-cooldown-container" id="auto-cooldown-container" style="display: none;">
                    <div class="cooldown-label">ü§ñ Next cast in...</div>
                    <div class="cooldown-bar-track">
                        <div class="cooldown-bar-fill" id="cooldown-bar-fill"></div>
                    </div>
                </div>

                <div class="last-catch-display" id="last-catch"></div>
                <div class="action-buttons">
                    <button class="btn-primary cast-btn-lg" id="action-btn">Cast Line</button>
                    <button class="auto-fish-btn" id="auto-fish-btn">ü§ñ Auto: OFF</button>
                </div>
            </section>

            <!-- Inventory -->
            <section class="inventory-panel">
                <div class="inventory-header">
                    <h2>Catch Log</h2>
                    <button class="btn-secondary" onclick="GameAPI.inventorySellAll()">Sell All</button>
                </div>
                <div class="inv-scroll">
                    <table id="inventory-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Rarity</th>
                                <th>Weight</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>
        </div>

        <!-- Shop Modal -->
        <div class="shop-modal-overlay" id="shop-modal-overlay" onclick="GameAPI.shopClose()"></div>
        <div class="shop-modal" id="shop-modal">
            <div class="shop-modal-header">
                <h2>General Shop</h2>
                <button class="shop-close-btn" onclick="GameAPI.shopClose()">&times;</button>
            </div>
            <div class="shop-tabs">
                <button class="shop-tab-btn active" data-tab="weather" onclick="GameAPI.shopSwitchTab('weather')">‚õÖ
                    Weather</button>
                <button class="shop-tab-btn" data-tab="amulets" onclick="GameAPI.shopSwitchTab('amulets')">üßø
                    Amulets</button>
                <button class="shop-tab-btn" data-tab="rods" onclick="GameAPI.shopSwitchTab('rods')">üé£ Rods</button>
                <button class="shop-tab-btn" data-tab="baits" onclick="GameAPI.shopSwitchTab('baits')">ü™± Baits</button>
            </div>
            <div class="shop-tab-content" id="shop-tab-content"></div>
        </div>

        <!-- Achievements Modal -->
        <div class="shop-modal-overlay" id="achievements-overlay" onclick="GameAPI.closeAchievements()"></div>
        <div class="shop-modal achievements-modal" id="achievements-modal">
            <div class="shop-modal-header">
                <h2>üèÜ Achievements</h2>
                <button class="shop-close-btn" onclick="GameAPI.closeAchievements()">&times;</button>
            </div>
            <div id="achievements-list" class="achievements-list"></div>
        </div>

        <!-- Log -->
        <section>
            <h2>Journal</h2>
            <ul class="log-list" id="game-log"></ul>
        </section>
    </main>

    <!-- Data: Core -->
    <script src="js/data/rarity.js"></script>
    <script src="js/data/rods.js"></script>
    <script src="js/data/baits.js"></script>
    <script src="js/data/weather.js"></script>
    <script src="js/data/locations.js"></script>
    <script src="js/data/amulets.js"></script>
    <script src="js/data/weather-shop.js"></script>
    <script src="js/data/achievements.js"></script>

    <!-- Data: Biome Fish -->
    <script src="js/data/biomes/mistvale.js"></script>
    <script src="js/data/biomes/stone_rapids.js"></script>
    <script src="js/data/biomes/volcanic.js"></script>
    <script src="js/data/biomes/emerald.js"></script>
    <script src="js/data/biomes/midnight.js"></script>
    <script src="js/data/biomes/crystalline_abyss.js"></script>
    <script src="js/data/biomes/skyhollow_reaches.js"></script>
    <script src="js/data/biomes/resonant_depths.js"></script>
    <script src="js/data/biomes/mycelial_depths.js"></script>
    <script src="js/data/biomes/sunken_citadel.js"></script>
    <script src="js/data/biomes/glacial_spire.js"></script>
    <script src="js/data/biomes/chrono_river.js"></script>
    <script src="js/data/biomes/neon_bayou.js"></script>
    <script src="js/data/biomes/gearwork_grotto.js"></script>
    <script src="js/data/biomes/aetherial_void.js"></script>
    <script src="js/data/biomes/confection_coast.js"></script>
    <script src="js/data/biomes/origami_archipelago.js"></script>
    <script src="js/data/biomes/vaporwave_vista.js"></script>
    <script src="js/data/biomes/prism_light_pools.js"></script>
    <script src="js/data/biomes/silk_thread_stream.js"></script>
    <script src="js/data/fish-db.js"></script>

    <!-- Systems -->
    <script src="js/systems/ui.js"></script>
    <script src="js/systems/shop.js"></script>
    <script src="js/systems/inventory.js"></script>
    <script src="js/systems/save.js"></script>
    <script src="js/systems/achievements.js"></script>

    <!-- Engine -->
    <script src="js/engine.js"></script>
</body>

</html>